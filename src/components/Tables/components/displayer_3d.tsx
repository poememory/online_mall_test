import React, { useEffect } from 'react';
import * as echarts from 'echarts';
import 'echarts-gl';

const Displayer_3d = () => {
  useEffect(() => {
    const chartDom = document.getElementById('Displayer_3d') as HTMLElement;
    if (!chartDom) return; // 确保能够获取到 DOM 元素

    const myChart = echarts.init(chartDom);


    const option = {
        grid3D: {},
        xAxis3D: {
          type: 'value',
          name: 'Product_Price',
          min: 120,
          max: 2200,
          interval: 270
        },
        yAxis3D: {
          type: 'value',
          name: 'Refresh_Rate',
          min: 60,
          max: 280,
          interval: 20
        },
        zAxis3D: {
          type: 'value',
          name: 'Screen_Size',
          min: 12,
          max: 36,
          interval: 2
        },
        dataset: {
          dimensions: [
            'Product_Price',
            'Refresh_Rate',
            'Screen_Size',
          ],
          source: [
    [
      "Product_Price",
      "Refresh_Rate",
      "Screen_Size"
    ],
      
      [
          149.0,
          75.0,
          12.0
      ],
      [
          128.0,
          60.0,
          14.0
      ],
      [
          225.42,
          144.0,
          15.6
      ],
      [
          228.0,
          60.0,
          15.6
      ],
      [
          142.0,
          75.0,
          19.0
      ],
      [
          154.0,
          75.0,
          19.0
      ],
      [
          158.0,
          75.0,
          19.0
      ],
      [
          288.0,
          75.0,
          19.0
      ],
      [
          200.0,
          75.0,
          20.0
      ],
      [
          579.0,
          75.0,
          21.45
      ],
      [
          146.0,
          60.0,
          21.5
      ],
      [
          239.0,
          75.0,
          21.5
      ],
      [
          560.0,
          60.0,
          21.5
      ],
      [
          588.0,
          75.0,
          21.5
      ],
      [
          623.75,
          60.0,
          21.5
      ],
      [
          145.0,
          75.0,
          22.0
      ],
      [
          300.0,
          75.0,
          23.5
      ],
      [
          158.0,
          75.0,
          23.6
      ],
      [
          185.0,
          75.0,
          23.6
      ],
      [
          499.0,
          144.0,
          23.6
      ],
      [
          599.0,
          144.0,
          23.6
      ],
      [
          142.0,
          75.0,
          23.8
      ],
      [
          160.0,
          75.0,
          23.8
      ],
      [
          160.0,
          75.0,
          23.8
      ],
      [
          208.0,
          75.0,
          23.8
      ],
      [
          255.0,
          60.0,
          23.8
      ],
      [
          284.0,
          144.0,
          23.8
      ],
      [
          289.0,
          75.0,
          23.8
      ],
      [
          310.0,
          100.0,
          23.8
      ],
      [
          345.0,
          75.0,
          23.8
      ],
      [
          379.0,
          75.0,
          23.8
      ],
      [
          398.0,
          165.0,
          23.8
      ],
      [
          404.0,
          75.0,
          23.8
      ],
      [
          409.0,
          60.0,
          23.8
      ],
      [
          409.0,
          75.0,
          23.8
      ],
      [
          439.0,
          75.0,
          23.8
      ],
      [
          439.0,
          100.0,
          23.8
      ],
      [
          445.0,
          100.0,
          23.8
      ],
      [
          459.0,
          60.0,
          23.8
      ],
      [
          468.0,
          100.0,
          23.8
      ],
      [
          484.0,
          144.0,
          23.8
      ],
      [
          510.0,
          165.0,
          23.8
      ],
      [
          530.0,
          60.0,
          23.8
      ],
      [
          549.0,
          75.0,
          23.8
      ],
      [
          550.0,
          100.0,
          23.8
      ],
      [
          558.0,
          144.0,
          23.8
      ],
      [
          588.0,
          100.0,
          23.8
      ],
      [
          616.48,
          100.0,
          23.8
      ],
      [
          675.0,
          100.0,
          23.8
      ],
      [
          689.0,
          100.0,
          23.8
      ],
      [
          728.0,
          165.0,
          23.8
      ],
      [
          749.0,
          75.0,
          23.8
      ],
      [
          749.0,
          75.0,
          23.8
      ],
      [
          777.0,
          100.0,
          23.8
      ],
      [
          799.0,
          180.0,
          23.8
      ],
      [
          799.0,
          180.0,
          23.8
      ],
      [
          847.0,
          180.0,
          23.8
      ],
      [
          849.0,
          180.0,
          23.8
      ],
      [
          949.0,
          165.0,
          23.8
      ],
      [
          1039.0,
          240.0,
          23.8
      ],
      [
          134.3,
          60.0,
          24.0
      ],
      [
          139.0,
          60.0,
          24.0
      ],
      [
          146.0,
          75.0,
          24.0
      ],
      [
          146.0,
          75.0,
          24.0
      ],
      [
          146.0,
          75.0,
          24.0
      ],
      [
          148.0,
          75.0,
          24.0
      ],
      [
          155.0,
          60.0,
          24.0
      ],
      [
          155.0,
          75.0,
          24.0
      ],
      [
          161.28,
          60.0,
          24.0
      ],
      [
          168.0,
          75.0,
          24.0
      ],
      [
          188.0,
          75.0,
          24.0
      ],
      [
          188.0,
          75.0,
          24.0
      ],
      [
          188.0,
          75.0,
          24.0
      ],
      [
          198.0,
          75.0,
          24.0
      ],
      [
          198.0,
          75.0,
          24.0
      ],
      [
          219.0,
          75.0,
          24.0
      ],
      [
          234.11,
          75.0,
          24.0
      ],
      [
          234.11,
          75.0,
          24.0
      ],
      [
          240.0,
          144.0,
          24.0
      ],
      [
          248.0,
          144.0,
          24.0
      ],
      [
          259.0,
          144.0,
          24.0
      ],
      [
          269.0,
          75.0,
          24.0
      ],
      [
          286.0,
          75.0,
          24.0
      ],
      [
          288.0,
          75.0,
          24.0
      ],
      [
          288.0,
          144.0,
          24.0
      ],
      [
          298.0,
          75.0,
          24.0
      ],
      [
          298.0,
          144.0,
          24.0
      ],
      [
          298.0,
          165.0,
          24.0
      ],
      [
          301.0,
          75.0,
          24.0
      ],
      [
          319.0,
          165.0,
          24.0
      ],
      [
          320.0,
          75.0,
          24.0
      ],
      [
          329.0,
          144.0,
          24.0
      ],
      [
          329.0,
          165.0,
          24.0
      ],
      [
          335.0,
          75.0,
          24.0
      ],
      [
          336.0,
          180.0,
          24.0
      ],
      [
          338.0,
          75.0,
          24.0
      ],
      [
          338.0,
          165.0,
          24.0
      ],
      [
          359.0,
          144.0,
          24.0
      ],
      [
          365.16,
          144.0,
          24.0
      ],
      [
          368.0,
          75.0,
          24.0
      ],
      [
          368.0,
          75.0,
          24.0
      ],
      [
          388.0,
          144.0,
          24.0
      ],
      [
          398.0,
          75.0,
          24.0
      ],
      [
          399.0,
          75.0,
          24.0
      ],
      [
          429.0,
          75.0,
          24.0
      ],
      [
          439.0,
          144.0,
          24.0
      ],
      [
          449.0,
          165.0,
          24.0
      ],
      [
          559.0,
          240.0,
          24.0
      ],
      [
          569.0,
          75.0,
          24.0
      ],
      [
          705.0,
          100.0,
          24.0
      ],
      [
          349.0,
          75.0,
          24.5
      ],
      [
          729.0,
          240.0,
          24.5
      ],
      [
          799.0,
          165.0,
          24.5
      ],
      [
          823.0,
          180.0,
          24.5
      ],
      [
          976.0,
          180.0,
          24.5
      ],
      [
          1039.0,
          280.0,
          24.5
      ],
      [
          1299.0,
          280.0,
          24.5
      ],
      [
          1599.0,
          280.0,
          24.5
      ],
      [
          142.0,
          75.0,
          27.0
      ],
      [
          158.0,
          75.0,
          27.0
      ],
      [
          179.0,
          75.0,
          27.0
      ],
      [
          188.0,
          75.0,
          27.0
      ],
      [
          190.0,
          75.0,
          27.0
      ],
      [
          199.0,
          180.0,
          27.0
      ],
      [
          219.0,
          165.0,
          27.0
      ],
      [
          249.0,
          165.0,
          27.0
      ],
      [
          258.0,
          60.0,
          27.0
      ],
      [
          270.0,
          75.0,
          27.0
      ],
      [
          280.0,
          165.0,
          27.0
      ],
      [
          280.0,
          165.0,
          27.0
      ],
      [
          289.0,
          144.0,
          27.0
      ],
      [
          338.0,
          144.0,
          27.0
      ],
      [
          348.0,
          144.0,
          27.0
      ],
      [
          349.0,
          75.0,
          27.0
      ],
      [
          349.0,
          75.0,
          27.0
      ],
      [
          349.0,
          165.0,
          27.0
      ],
      [
          358.0,
          75.0,
          27.0
      ],
      [
          359.0,
          144.0,
          27.0
      ],
      [
          369.0,
          100.0,
          27.0
      ],
      [
          379.0,
          144.0,
          27.0
      ],
      [
          398.0,
          165.0,
          27.0
      ],
      [
          411.0,
          240.0,
          27.0
      ],
      [
          439.0,
          60.0,
          27.0
      ],
      [
          439.0,
          100.0,
          27.0
      ],
      [
          469.0,
          75.0,
          27.0
      ],
      [
          469.0,
          75.0,
          27.0
      ],
      [
          469.0,
          75.0,
          27.0
      ],
      [
          470.0,
          60.0,
          27.0
      ],
      [
          470.0,
          100.0,
          27.0
      ],
      [
          477.0,
          144.0,
          27.0
      ],
      [
          487.0,
          200.0,
          27.0
      ],
      [
          499.0,
          144.0,
          27.0
      ],
      [
          518.0,
          165.0,
          27.0
      ],
      [
          529.0,
          240.0,
          27.0
      ],
      [
          568.0,
          144.0,
          27.0
      ],
      [
          588.0,
          100.0,
          27.0
      ],
      [
          588.0,
          180.0,
          27.0
      ],
      [
          609.0,
          180.0,
          27.0
      ],
      [
          659.0,
          180.0,
          27.0
      ],
      [
          705.0,
          60.0,
          27.0
      ],
      [
          705.0,
          75.0,
          27.0
      ],
      [
          705.0,
          170.0,
          27.0
      ],
      [
          752.0,
          75.0,
          27.0
      ],
      [
          789.0,
          180.0,
          27.0
      ],
      [
          799.0,
          180.0,
          27.0
      ],
      [
          802.19,
          180.0,
          27.0
      ],
      [
          827.0,
          165.0,
          27.0
      ],
      [
          849.0,
          240.0,
          27.0
      ],
      [
          888.0,
          100.0,
          27.0
      ],
      [
          889.0,
          180.0,
          27.0
      ],
      [
          899.0,
          180.0,
          27.0
      ],
      [
          929.0,
          240.0,
          27.0
      ],
      [
          939.0,
          240.0,
          27.0
      ],
      [
          944.0,
          144.0,
          27.0
      ],
      [
          949.0,
          240.0,
          27.0
      ],
      [
          986.81,
          165.0,
          27.0
      ],
      [
          999.0,
          180.0,
          27.0
      ],
      [
          1009.0,
          144.0,
          27.0
      ],
      [
          1009.0,
          170.0,
          27.0
      ],
      [
          1039.0,
          144.0,
          27.0
      ],
      [
          1048.9,
          75.0,
          27.0
      ],
      [
          1049.0,
          180.0,
          27.0
      ],
      [
          1059.0,
          180.0,
          27.0
      ],
      [
          1350.0,
          165.0,
          27.0
      ],
      [
          1388.0,
          240.0,
          27.0
      ],
      [
          1399.0,
          165.0,
          27.0
      ],
      [
          1509.0,
          180.0,
          27.0
      ],
      [
          1999.0,
          240.0,
          27.0
      ],
      [
          2199.0,
          240.0,
          27.0
      ],
      [
          999.0,
          60.0,
          28.0
      ],
      [
          348.0,
          60.0,
          31.5
      ],
      [
          498.0,
          165.0,
          31.5
      ],
      [
          959.0,
          240.0,
          31.5
      ],
      [
          450.0,
          240.0,
          32.0
      ],
      [
          549.0,
          75.0,
          32.0
      ],
      [
          639.0,
          165.0,
          32.0
      ],
      [
          679.0,
          144.0,
          32.0
      ],
      [
          809.0,
          165.0,
          32.0
      ],
      [
          823.0,
          60.0,
          32.0
      ],
      [
          1078.0,
          180.0,
          32.0
      ],
      [
          1239.0,
          180.0,
          32.0
      ],
      [
          1299.0,
          180.0,
          32.0
      ],
      [
          1679.0,
          180.0,
          32.0
      ],
      [
          489.3,
          144.0,
          34.0
      ],
      [
          648.0,
          100.0,
          34.0
      ],
      [
          1099.0,
          144.0,
          34.0
      ],
      [
          819.0,
          180.0,
          35.0
      ]
  ]
        },
        series: [
          {
            type: 'scatter3D',
            encode: {
              x: 'Product_Price',
              y: 'Refresh_Rate',
              z: 'Screen_Size',
              tooltip: [0, 1, 2]
            }
          }
        ]
      };
      myChart.setOption(option);
  

    // 在组件卸载时销毁图表，避免内存泄漏
    return () => {
      myChart.dispose();
    };
  }, []); // 空数组作为依赖，确保 useEffect 只执行一次

  return (
    <div className='onshow' style={{width:'100vw',height:'98vh',position:'relative',backgroundColor:'aliceblue'}}>
        <div id='Displayer_3d' style={{opacity:1 ,width: '800px', height: '700px',position:'absolute',top:'0vh',left:'15vw' }}></div>;
        <div className="displayer_titile">显示器价格帧率尺寸分布</div>
    </div>
  )
  
  
};

export default Displayer_3d;
